+function(c){function g(a){return a.is('[type="checkbox"]')?a.prop("checked"):a.is('[type="radio"]')?!!c('[name="'+a.attr("name")+'"]:checked').length:c.trim(a.val())}function m(a){return this.each(function(){var d=c(this),f=c.extend({},b.DEFAULTS,d.data(),"object"==typeof a&&a),e=d.data("bs.validator");if(e||"destroy"!=a)if(e||d.data("bs.validator",e=new b(this,f)),"string"==typeof a)e[a]()})}var b=function(a,d){this.options=d;this.$element=c(a);this.$inputs=this.$element.find(b.INPUT_SELECTOR);
this.$btn=this.$element.find("input[type=submit], button[type=submit]");d.errors=c.extend({},b.DEFAULTS.errors,d.errors);for(var f in d.custom)if(!d.errors[f])throw Error("Missing default error message for custom validator: "+f);c.extend(b.VALIDATORS,d.custom);this.$element.attr("novalidate",!0);this.toggleSubmit();this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",b.INPUT_SELECTOR,c.proxy(this.onInput,this));this.$element.on("submit.bs.validator",c.proxy(this.onSubmit,
this));this.$element.find("[data-match]").each(function(){var a=c(this),d=a.data("match");c(d).on("input.bs.validator",function(d){g(a)&&a.trigger("input.bs.validator")})})};b.INPUT_SELECTOR=':input:not([type="submit"], button):enabled:visible';b.FOCUS_OFFSET=20;b.DEFAULTS={delay:500,html:!1,disable:!0,focus:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}};b.VALIDATORS={"native":function(a){a=a[0];return a.checkValidity?
a.checkValidity():!0},match:function(a){var d=a.data("match");return!a.val()||a.val()===c(d).val()},minlength:function(a){var d=a.data("minlength");return!a.val()||a.val().length>=d}};b.prototype.onInput=function(a){var d=this,b=c(a.target);this.validateInput(b,"focusout"!==a.type).done(function(){d.toggleSubmit()})};b.prototype.validateInput=function(a,d){var b=g(a),e=a.data("bs.validator.previous"),k=a.data("bs.validator.errors");if(e===b)return c.Deferred().resolve();a.data("bs.validator.previous",
b);a.is('[type="radio"]')&&(a=this.$element.find('input[name="'+a.attr("name")+'"]'));var l=c.Event("validate.bs.validator",{relatedTarget:a[0]});this.$element.trigger(l);if(!l.isDefaultPrevented()){var h=this;return this.runValidators(a).done(function(b){a.data("bs.validator.errors",b);b.length?d?h.defer(a,h.showErrors):h.showErrors(a):h.clearErrors(a);k&&b.toString()===k.toString()||(l=b.length?c.Event("invalid.bs.validator",{relatedTarget:a[0],detail:b}):c.Event("valid.bs.validator",{relatedTarget:a[0],
detail:k}),h.$element.trigger(l));h.toggleSubmit();h.$element.trigger(c.Event("validated.bs.validator",{relatedTarget:a[0]}))})}};b.prototype.runValidators=function(a){function d(d){return a.data(d+"-error")||a.data("error")||"native"==d&&a[0].validationMessage||k.errors[d]}var f=[],e=c.Deferred(),k=this.options;a.data("bs.validator.deferred")&&a.data("bs.validator.deferred").reject();a.data("bs.validator.deferred",e);c.each(b.VALIDATORS,c.proxy(function(c,b){if((g(a)||a.attr("required"))&&(a.data(c)||
"native"==c)&&!b.call(this,a)){var e=d(c);!~f.indexOf(e)&&f.push(e)}},this));!f.length&&g(a)&&a.data("remote")?this.defer(a,function(){var b={};b[a.attr("name")]=g(a);c.get(a.data("remote"),b).fail(function(a,c,b){f.push(d("remote")||b)}).always(function(){e.resolve(f)})}):e.resolve(f);return e.promise()};b.prototype.validate=function(){var a=this;c.when(this.$inputs.map(function(d){return a.validateInput(c(this),!1)})).then(function(){a.toggleSubmit();a.$btn.hasClass("disabled")&&a.focusError()});
return this};b.prototype.focusError=function(){if(this.options.focus){var a=c(".has-error:first :input");c(document.body).animate({scrollTop:a.offset().top-b.FOCUS_OFFSET},250);a.focus()}};b.prototype.showErrors=function(a){var d=a.data("bs.validator.errors");a=a.closest(".form-group");var c=a.find(".help-inline.with-errors span"),b=a.find(".form-control-feedback");d.length&&(d=d.join(", "),void 0===c.data("bs.validator.originalContent")&&c.data("bs.validator.originalContent",c.html()),c.html(d),
a.addClass("has-error has-danger"),a.hasClass("has-feedback")&&b.removeClass(this.options.feedback.success)&&b.addClass(this.options.feedback.error)&&a.removeClass("has-success"))};b.prototype.clearErrors=function(a){var c=a.closest(".form-group"),b=c.find(".help-inline.with-errors span"),e=c.find(".form-control-feedback");b.html(b.data("bs.validator.originalContent"));c.removeClass("has-error has-danger");c.hasClass("has-feedback")&&e.removeClass(this.options.feedback.error)&&g(a)&&e.addClass(this.options.feedback.success)&&
c.addClass("has-success")};b.prototype.hasErrors=function(){return!!this.$inputs.filter(function(){return!!(c(this).data("bs.validator.errors")||[]).length}).length};b.prototype.isIncomplete=function(){return!!this.$inputs.filter("[required]").filter(function(){return!g(c(this))}).length};b.prototype.onSubmit=function(a){this.validate();this.$btn.hasClass("disabled")&&a.preventDefault()};b.prototype.toggleSubmit=function(){this.options.disable&&this.$btn.toggleClass("disabled",this.isIncomplete()||
this.hasErrors())};b.prototype.defer=function(a,b){b=c.proxy(b,this,a);if(!this.options.delay)return b();window.clearTimeout(a.data("bs.validator.timeout"));a.data("bs.validator.timeout",window.setTimeout(b,this.options.delay))};b.prototype.destroy=function(){this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator").find(".form-control-feedback").removeClass([this.options.feedback.error,this.options.feedback.success].join(" "));this.$inputs.off(".bs.validator").removeData(["bs.validator.errors",
"bs.validator.deferred","bs.validator.previous"]).each(function(){var a=c(this),b=a.data("bs.validator.timeout");window.clearTimeout(b)&&a.removeData("bs.validator.timeout")});this.$element.find(".help-block.with-errors").each(function(){var a=c(this),b=a.data("bs.validator.originalContent");a.removeData("bs.validator.originalContent").html(b)});this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled");this.$element.find(".has-error, .has-danger").removeClass("has-error has-danger");
return this};var n=c.fn.validator;c.fn.validator=m;c.fn.validator.Constructor=b;c.fn.validator.noConflict=function(){c.fn.validator=n;return this};c(window).on("load",function(){c('form[data-toggle="validator"]').each(function(){var a=c(this);m.call(a,a.data())})})}(jQuery);