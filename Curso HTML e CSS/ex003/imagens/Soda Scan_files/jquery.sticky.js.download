(function(e){var p=Array.prototype.slice,t=Array.prototype.splice,m={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1},n=e(window),u=e(document),k=[],q=n.height(),l=function(){for(var b=n.scrollTop(),d=u.height(),f=d-q,f=b>f?f-b:0,c=0;c<k.length;c++){var a=k[c],g=a.stickyWrapper.offset().top-a.topSpacing-f;if(b<=g)null!==a.currentTop&&(a.stickyElement.css({width:"",position:"",top:""}),a.stickyElement.parent().removeClass(a.className),
a.stickyElement.trigger("sticky-end",[a]),a.currentTop=null);else if(g=d-a.stickyElement.outerHeight()-a.topSpacing-a.bottomSpacing-b-f,g=0>g?g+a.topSpacing:a.topSpacing,a.currentTop!=g){var h;a.getWidthFrom?h=e(a.getWidthFrom).width()||null:a.widthFromWrapper&&(h=a.stickyWrapper.width());null==h&&(h=a.stickyElement.width());a.stickyElement.css("width",h).css("position","fixed").css("top",g);a.stickyElement.parent().addClass(a.className);null===a.currentTop?a.stickyElement.trigger("sticky-start",
[a]):a.stickyElement.trigger("sticky-update",[a]);a.currentTop===a.topSpacing&&a.currentTop>g||null===a.currentTop&&g<a.topSpacing?a.stickyElement.trigger("sticky-bottom-reached",[a]):null!==a.currentTop&&g===a.topSpacing&&a.currentTop<g&&a.stickyElement.trigger("sticky-bottom-unreached",[a]);a.currentTop=g}}},r=function(){q=n.height();for(var b=0;b<k.length;b++){var d=k[b],f=null;d.getWidthFrom?!0===d.responsiveWidth&&(f=e(d.getWidthFrom).width()):d.widthFromWrapper&&(f=d.stickyWrapper.width());
null!=f&&d.stickyElement.css("width",f)}},h={init:function(b){var d=e.extend({},m,b);return this.each(function(){var b=e(this),c=b.attr("id"),a=b.outerHeight(),c=c?c+"-"+m.wrapperClassName:m.wrapperClassName,c=e("<div></div>").attr("id",c).addClass(d.wrapperClassName);b.wrapAll(c);c=b.parent();d.center&&c.css({width:b.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"==b.css("float")&&b.css({"float":"none"}).parent().css({"float":"right"});c.css("height",a);d.stickyElement=b;d.stickyWrapper=
c;d.currentTop=null;k.push(d)})},update:l,unstick:function(b){return this.each(function(){for(var b=e(this),f=-1,c=k.length;0<c--;)k[c].stickyElement.get(0)===this&&(t.call(k,c,1),f=c);-1!=f&&(b.unwrap(),b.css({width:"",position:"",top:"","float":""}))})}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",r,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",r));e.fn.sticky=function(b){if(h[b])return h[b].apply(this,
p.call(arguments,1));if("object"!==typeof b&&b)e.error("Method "+b+" does not exist on jQuery.sticky");else return h.init.apply(this,arguments)};e.fn.unstick=function(b){if(h[b])return h[b].apply(this,p.call(arguments,1));if("object"!==typeof b&&b)e.error("Method "+b+" does not exist on jQuery.sticky");else return h.unstick.apply(this,arguments)};e(function(){setTimeout(l,0)})})(jQuery);